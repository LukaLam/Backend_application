env:
  global:
  - CC_TEST_REPORTER_ID=1fd47627409af6283040c758f8d771a32e26204bd9a9bfbc22f219e5ac549bcc
  - secure: JSXgdpS1dT5VXDIG9ymnHz3iD6wD4pwfBRY4qBDw126STIRIBX0KwNRcEOlobHHFH4P3Qe8dTib8ut60E/ukoVw/CtERVpfrUPGow1cP/R+clTPkzvz351qADPvRBKAoVVD3wKkbhjmtfA+XLRckpUaQS/wPZ8GZ38t4D6i1W4gJeDKsgw7L4dWERtjLGaOndbKPzgcN1YFeUyJ0RJ6whk8cJ29gypMB5aWJO8OZyB7IVqUsJVmSEEAnD2Feuje2pfFniWA6g9Uo4jq0n8zOkxYKOqLJd3Wkt7JM2/jQZ2nVz56zadQxEcccoR7OTdX23WAI+lZPK0nM8+xSXc3sdLRgGAFHEE3xaBW3B30vDcjk7KleWGjnbgpQw8UrxJrUEH3lsNeZHSGZsHWjhMk3113AOCA3bVr9CewxEQR/MAiTJRTT9HVf2PRjgX/pjDN9qjdeYn/5G4yOv0xvTpl5O/CKN24TN0V+H4OjrcZQhbZ1gRLa1KeulTUDkAerQOC6jPTsKMWb6RYVSExU2fYWUJX7w379F7hVk9ami1GZ0sBPz1Foms//7Xyq4FZUAp2xZfQgdAKzfZPj2RHYigRAalyF52wxjC9GUZixpj9GbJdlXjytber0nHK0ju4Ipt2WdhWb92SGiglIbrewg1CmL4Og6kPOHIUB9TsaBTrvwBA=
language: ruby
cache:
- bundler
rvm:
- 2.5.6
before_script:
- bundle exec rake db:create
- bundle exec rake db:migrate
- bundle exec rake assets:precompile
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64
  > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- "./cc-test-reporter before-build"
deploy:
  provider: heroku
  api_key:
    secure: vu5KSysR6fyiA85pTHu9xY2x55sG38jW9YzqbcuW8Fwq8CMcKHG7FMIIb5cMRpciZ5PnmhKCtAxTzzuaM8rOV6N0jkqnnbnxI0roKRdON8+BT6g4sWSUidJctqJcH17ZaxZi7K9HW+JyYjQkIugRFqPZIYYymuQdJ03JH7yEXg+5mR5OhnCFgKpwYoWBPLrfPC3YAVJzmKRtTj0542kYoDPhzsKz2729pQsjYkV4IQxDGzaQmH3w+MEAzBWXViXlnyYQn1hLlvwme92m0cMUxt3DNA4BK5TfTPJKv7BoZJJEi51OGFNCLf4qLSuvyUjhnnd/mclWvCHeWOmROtT5Qp2qXer5gGrqsaWKUoFs1x+0crTObKQDY+jg+1tE7QmR2jaeK5RrjcpxpCYhrN+EPSwDbRk3dlm78JJc3uJ79s7cxt4DofuAKSL9/V5dBD3i2o6hF8bzeSAe8tRjf9GU9acqGgFZ7+Co93zFGpqRIzT0pzzTBlH+3hz3KHe4VQiPsTj5LoFGNWswY+Ozzoec4idVKgAV6b7C54YUYoVIDZuynue2VPkc5c4AW58i41GsVV/b5Qdi+xi4Fu4X3VeN+pllwyrSmOR2AFxb1iZoiLQi/CsiLgc5KLGsMHYp/F3W9WBCJAeF+tdckwBqyV86jfvDVAHaHmHBJdnx3IwNyxc=
script:
- bundle exec rails db:migrate RAILS_ENV=test
- bundle exec rake
after_script:
- "./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT"
